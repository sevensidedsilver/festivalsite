<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Massive.js by dmfay</title>

    <link rel="stylesheet" href="/massive-js/assets/css/style.css?v=8f3b5004dbc09941550749da6d7e90b279e958cc">
    <link rel="stylesheet" href="/assets/css/custom.css">
    <meta name="viewport" content="width=device-width">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1><a href="/massive-js">Massive.js</a></h1>
        <p>Massive.js is a data mapper for Node.js that goes all in on PostgreSQL and fully embraces the power and flexibility of the SQL language and relational metaphors. Providing minimal abstractions for the interfaces and tools you already use, its goal is to do just enough to make working with your data as easy and intuitive as possible, then get out of your way.
</p>

        
          <p class="view"><a href="http://github.com/dmfay/massive-js">View the Project on GitHub <small></small></a></p>
        

        <h2>Contents</h2>
        <ul class="toc">
          <li><a href="/massive-js/connecting.html">Connecting</a></li>
          <li><a href="/massive-js/criteria.html">Criteria Objects</a></li>
          <li><a href="/massive-js/queries.html">Queries</a></li>
          <li><a href="/massive-js/persistence.html">Persistence</a></li>
          <li><a href="/massive-js/documents.html">Working with Documents</a></li>
          <li><a href="/massive-js/functions.html">Functions and Scripts</a></li>
          <li><a href="/massive-js/run.html">Raw SQL</a></li>
          <li><a href="/massive-js/api/index.html">API Docs</a></li>
        </ul>

        

        
        <p>This project is maintained by <a href="http://github.com/dmfay">dmfay</a></p>
        
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>

        
      </header>
      <section>

      <h2 id="get-started">Get Started</h2>

<div class="highlighter-rouge"><pre class="highlight"><code>npm install massive --save
</code></pre>
</div>

<p><strong>Starting with version 3, Massive uses Promises exclusively. If you need a callback-based API, download version 2.x from <a href="https://github.com/dmfay/massive-js/releases">the Releases page</a>.</strong></p>

<p>Examples are presented using the standard <code class="highlighter-rouge">then()</code> construction for compatibility, but use of ES2017 <code class="highlighter-rouge">async</code> and <code class="highlighter-rouge">await</code> or a flow control library such as <a href="https://github.com/tj/co">co</a> to manage promises is highly recommended.</p>

<h2 id="express-example">Express Example</h2>

<div class="highlighter-rouge"><pre class="highlight"><code>const express = require('express');
const http = require('http');
const massive = require('massive');

const app = express();

massive({
  host: '127.0.0.1',
  port: 5432,
  database: 'appdb',
  user: 'appuser',
  password: 'apppwd'
}).then(instance =&gt; {
  app.set('db', instance);

  app.get('/', (req, res) =&gt; {
    req.app.get('db').feed_items.find({
      'rating &gt;': 0
    }, {
      order: 'created_at desc'
    }).then(items =&gt; {
      res.json(items);
    });
  });

  http.createServer(app).listen(3000);
});
</code></pre>
</div>


      </section>
    </div>
    <script src="/massive-js/assets/js/scale.fix.js"></script>


  
  </body>
</html>

